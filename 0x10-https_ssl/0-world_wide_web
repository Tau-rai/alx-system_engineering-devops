#!/usr/bin/env bash
# This script displays information about subdomains

# Function to check and print domain info
domain_lookup() {
    local domain=$1
    local subdomain=$2
    local ip_address=$(nslookup "$subdomain"."$domain" | awk '/^Name:/ {print $2} /Address:/ {print $2}' | tail -n1)

    echo "The subdomain $subdomain is a A record and points to $ip_address"
}

# Main script
domain=$1
subdomain=$2

if [[ -z "$subdomain" ]]; then
    # If no subdomain is provided, check for default subdomains
    for sub in www lb-01 web-01 web-02; do
        check_domain "$domain" $sub
    done
else
    # If subdomain is provided, check only for that
    check_domain "$domain" "$subdomain"
fi
